
# FICHIER D'EXEMPLE - VARIABLES D'ENVIRONNEMENT

# Ce fichier montre quelles variables sont nécessaires pour faire tourner le serveur
# IMPORTANT : Copie ce fichier en ".env" et remplace les valeurs par les vraies


# BASE DE DONNÉES POSTGRESQL


# DATABASE_URL : URL de connexion complète à PostgreSQL (utilisée par Prisma)
# Format : postgresql://UTILISATEUR:MOT_DE_PASSE@SERVEUR:PORT/NOM_BASE
# Exemple local : postgresql://postgres:monmotdepasse@localhost:5432/francois_maroquinerie
# Exemple production (Supabase/Railway) : postgresql://user:pass@db.railway.app:5432/railway
DATABASE_URL="postgresql://postgres:votre_mot_de_passe@localhost:5432/francois_maroquinerie?schema=public"

# Variables individuelles (utilisées par l'ancienne config, peuvent être supprimées si tu utilises seulement Prisma)
DB_USER=postgres
DB_HOST=localhost
DB_NAME=francois_maroquinerie
DB_PASSWORD=votre_mot_de_passe
DB_PORT=5432


# SÉCURITÉ & AUTHENTIFICATION


# JWT_SECRET : Clé secrète pour signer les tokens JWT (comme un mot de passe pour les tokens)
# ⚠️ TRÈS IMPORTANT : Utilise une chaîne longue et aléatoire (minimum 32 caractères)
# Pour générer une nouvelle clé sécurisée, lance cette commande dans ton terminal :
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=votre_cle_secrete_aleatoire_de_128_caracteres


# STRIPE (PAIEMENTS)


# STRIPE_SECRET_KEY : Clé secrète Stripe (commence par sk_test_ en dev, sk_live_ en prod)
# Où la trouver ? Dashboard Stripe > Developers > API keys
STRIPE_SECRET_KEY=sk_test_votre_cle_stripe

# STRIPE_PUBLISHABLE_KEY : Clé publique Stripe (utilisée côté front-end)
# Elle peut être visible par tout le monde, pas de danger
STRIPE_PUBLISHABLE_KEY=pk_test_votre_cle_stripe

# STRIPE_WEBHOOK_SECRET : Secret pour vérifier les webhooks Stripe (commence par whsec_)
# Où le trouver ? Dashboard Stripe > Developers > Webhooks > ton endpoint > Signing secret
STRIPE_WEBHOOK_SECRET=whsec_votre_webhook_secret

# EMAILS (RESEND)

# RESEND_API_KEY : Clé API pour envoyer des emails avec Resend
# Où la trouver ? Dashboard Resend > API Keys
# Commence par re_XXXXX
RESEND_API_KEY=re_XXXXXXXXXXXXXXXXXXXXXXXXXXXXX


# URLs & ENVIRONNEMENT


# CLIENT_URL : URL du front-end Next.js
# Dev : http://localhost:3000
# Production : https://ton-site.com (SANS le slash à la fin)
CLIENT_URL=http://localhost:3000

# NODE_ENV : Environnement de l'application
# Valeurs possibles : development | production
# En dev : development (logs détaillés, pas de HTTPS forcé)
# En prod : production (HTTPS forcé, optimisations activées, CSP stricte)
NODE_ENV=development

# PORT : Port sur lequel le serveur écoute
# Par défaut : 5000 (ou 5002 si tu préfères)
# Les hébergeurs (Railway, Heroku) peuvent définir leur propre PORT
PORT=5002


# NOTES IMPORTANTES


# Ne JAMAIS commit le fichier .env sur GitHub (déjà dans .gitignore)
# En production, définir ces variables dans le dashboard de l'hébergeur (pas de fichier .env)
# Tester les emails Resend en mode test avant la prod
# Activer les webhooks Stripe uniquement en production avec la vraie URL
# Garder JWT_SECRET différent entre dev et prod (génère une nouvelle clé pour la prod)
# En production, utiliser NODE_ENV=production pour activer HTTPS forcé

